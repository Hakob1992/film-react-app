{"version":3,"sources":["auth.js","components/loader/loader.js","components/loginLogout/loginLogoutButton.js","components/menu/menu.js","pages/login.js","pages/add.js","components/dropdown/dropdown.js","components/modal/modal.js","components/table/table.js","pages/toWatch.js","pages/myList.js","pages/register.js","App.js","index.js"],"names":["api","Directual","apiHost","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","sessionID","setSessionID","role","setRole","useEffect","sid","window","localStorage","getItem","isAuthorize","status","token","username","login","password","then","res","setItem","isAutorised","signout","cb","logout","hasRole","roleCheck","useProvideAuth","Provider","value","useAuth","useContext","Loader","props","className","text","LogInLogOutButton","history","useHistory","loading","setLoading","Fragment","onClick","push","exact","to","MainMenu","LoginPage","location","useLocation","setUsername","setPassword","error","setError","from","state","pathname","replace","onSubmit","e","preventDefault","catch","type","placeholder","onChange","target","AddMovie","response","setResponse","setStatus","badRequest","setBadRequest","showForm","setShowForm","user_id","formPayload","setFormPayload","structure","setData","result","console","log","httpCode","msg","data","is_valid","class","error_msg","Dropdown","Modal","sent","setSent","postData","movie","id","handleReload","rating","setRating","style","backgroundImage","poster","title","year","imdb_ratings","director","actors","plot","my_rating","is_watched","onMouseEnter","onMouseLeave","Table","dataStructure","endpoint","payload","setPayload","pageInfo","setPageInfo","pageLoading","setPageLoading","pageNum","setPageNum","pageSize","modalWindow","setModalWindow","getData","page","tableSize","watched","map","row","src","name","recomendation","disabled","totalPage","ToWatch","MyList","Register","email","twitter","md5","PrivateRoute","rest","render","App","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a795c11.chunk.js","sourcesContent":["import React, {useState, useEffect, useContext, createContext} from \"react\";\r\nimport Directual from 'directual-api';\r\n\r\nconst api = new Directual({apiHost: '/'});\r\n\r\nexport const authContext = createContext();\r\n\r\nexport function ProvideAuth({children}) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n};\r\n\r\n// Provide hook that creates auth object and handles state\r\nfunction useProvideAuth() {\r\n  const [user, setUser] = useState(null);\r\n  const [sessionID, setSessionID] = useState(null);\r\n  const [role, setRole] = useState(null);\r\n\r\n  const login = (username, password) => {\r\n    return api.auth.login(username, password).then(res => {\r\n      setUser(res.username)\r\n      setSessionID(res.sessionID)\r\n      setRole(res.role)\r\n      window.localStorage.setItem('sid', res.sessionID)\r\n    })\r\n  };\r\n\r\n  const signout = (cb) => {\r\n    return api.auth.logout('').then(res => {\r\n      setUser(null)\r\n      setRole(null)\r\n      setSessionID(null)\r\n      window.localStorage.setItem('sid', null)\r\n      cb()\r\n    })\r\n  };\r\n\r\n  const isAutorised = () => {\r\n    return !!user\r\n  }\r\n\r\n  const hasRole = (roleCheck) => {\r\n    if (!roleCheck) {\r\n      return true\r\n    }\r\n    return role === roleCheck\r\n  }\r\n\r\n  useEffect(() => {\r\n    let sid = window.localStorage.getItem('sid') || ''\r\n    api.auth.isAuthorize(sid, (status, token) => {\r\n      if (status === true) {\r\n        setUser(token.username)\r\n        setSessionID(token.token)\r\n        setRole(token.role)\r\n      }\r\n    })\r\n  }, []);\r\n\r\n  return {\r\n    user,\r\n    sessionID,\r\n    login,\r\n    isAutorised,\r\n    signout,\r\n    hasRole\r\n  };\r\n}\r\n","import React from 'react'\r\nimport './loader.css'\r\n\r\nexport function Loader(props) {\r\n    return (\r\n        <div className=\"loader-wrapper\">\r\n            <div className=\"loader\"></div>\r\n            <span className=\"loader-text\">{props.text || 'Loading...'}</span>\r\n        </div>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport {useAuth} from '../../auth'\r\nimport {\r\n  Link, NavLink, useHistory\r\n} from 'react-router-dom'\r\n\r\nimport {Loader} from '../loader/loader';\r\n\r\nimport '../menu/menu.css'\r\n\r\n\r\nexport function LogInLogOutButton() {\r\n  let history = useHistory()\r\n  const auth = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(false)\r\n  }, [auth.user]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {auth.user ? (\r\n        <React.Fragment>\r\n          {!loading ? (\r\n              <NavLink\r\n                onClick={() => {\r\n                  auth.signout(() => history.push('/'));\r\n                  setLoading(true)\r\n                }}\r\n                className='neonBtn' exact to=\"/register\">\r\n\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                log out\r\n              </NavLink>\r\n            ) :\r\n            (<Loader text='Logging out...'/>)}\r\n\r\n        </React.Fragment>\r\n\r\n      ) : (\r\n        <NavLink className='neonBtn ' exact to=\"/login\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          Log in\r\n        </NavLink>\r\n\r\n      )}\r\n    </React.Fragment>)\r\n}\r\n","import React from 'react'\r\nimport {Link, NavLink} from 'react-router-dom'\r\nimport {LogInLogOutButton} from '../loginLogout/loginLogoutButton'\r\nimport {useAuth} from '../../auth'\r\n\r\nimport './menu.css'\r\n\r\n\r\nexport function MainMenu() {\r\n  const authContext = useAuth();\r\n  return (\r\n    <ul className=\"main-menu\">\r\n      <li>\r\n        <p className='logo'>MyMovies</p>\r\n      </li>\r\n      <li>\r\n        <NavLink className='neon' exact to=\"/\">Watched</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink className='neon' exact to=\"/towatch\">To Watch</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink className='neon' exact to=\"/add\">Recomend movie</NavLink>\r\n      </li>\r\n      {/*<li>*/}\r\n      {/*  <NavLink exact to=\"/page2\">Post data</NavLink>*/}\r\n      {/*</li>*/}\r\n      {/*<li>*/}\r\n      {/*  <NavLink exact to=\"/page3\">Hidden content</NavLink>*/}\r\n      {/*</li>*/}\r\n\r\n      {/*/!* JSX visible for authorised users only *!/*/}\r\n      {/*{authContext.isAutorised() && <li>*/}\r\n      {/*  <NavLink exact to=\"/private\">Private Page</NavLink>*/}\r\n      {/*</li>}*/}\r\n\r\n      {/* JSX visible for users, who have role == 'admin'. You can apply any other value here */}\r\n      {/*{authContext.hasRole('admin') && <li>*/}\r\n      {/*  <NavLink exact to=\"/admin\">Admin Page</NavLink>*/}\r\n      {/*</li>}*/}\r\n      <li className=\"rihgt-top\">\r\n        {!authContext.isAutorised() &&\r\n        <NavLink className='neonBtn' exact to=\"/register\">\r\n\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          Register\r\n\r\n        </NavLink>}\r\n        <LogInLogOutButton/>\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n","import {Link, useHistory, useLocation} from 'react-router-dom'\r\nimport React, {useState, useEffect} from 'react'\r\nimport {useAuth} from '../auth'\r\n\r\nimport {Loader} from '../components/loader/loader'\r\n\r\nexport default function LoginPage() {\r\n  let history = useHistory()\r\n  let location = useLocation()\r\n\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState('')\r\n\r\n  let {from} = location.state || {from: {pathname: '/'}}\r\n  const auth = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (auth.isAutorised()) {\r\n      history.replace(from)\r\n    }\r\n  })\r\n  let login = (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    auth.login(username, password).then(() => {\r\n      history.replace(from)\r\n      setLoading(false)\r\n    }).catch(e => {\r\n      setError('You login or password is incorrect')\r\n      setLoading(false)\r\n    })\r\n    return false\r\n  }\r\n\r\n  return (\r\n    <div className=\"content form\">\r\n      {(from.pathname === \"/add\") ?\r\n        <h2>Please, log in to recommend a movie</h2> :\r\n        <h1>Log in</h1>\r\n      }\r\n      { /* Here is from path: */}\r\n      <form onSubmit={login}>\r\n        <input type=\"text\" placeholder=\"login\" onChange={(e) => {\r\n          setUsername(e.target.value)\r\n        }}/>\r\n        <input type=\"password\" placeholder=\"password\" onChange={(e) => {\r\n          setPassword(e.target.value)\r\n        }}/>\r\n        {error && <div className=\"error\">{error}</div>}\r\n        {!loading ?\r\n          <div>\r\n            <button>Log in</button>\r\n            <Link to='register'>Registration</Link>\r\n          </div> : <Loader text='Logging in...'/>}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport Directual from 'directual-api';\r\nimport {useAuth} from '../auth'\r\nimport {Loader} from '../components/loader/loader';\r\n\r\n// Example of posting data to Directual\r\n\r\n// Connect to Directual api\r\nconst api = new Directual({apiHost: '/'})\r\n\r\nexport default function AddMovie() {\r\n\r\n  // API-endpoint details\r\n  const dataStructure = 'movie_recomendation' // todo: write here sysname of your data structure\r\n  const endpoint = 'postMovie' // todo: write here Method name of your API-endpoint\r\n\r\n  // Connect authentication context\r\n  const auth = useAuth();\r\n\r\n  // Hooks for handling state\r\n  const [response, setResponse] = useState(); // API response\r\n  const [status, setStatus] = useState(); // Request status\r\n  const [badRequest, setBadRequest] = useState(); // API error message\r\n  const [loading, setLoading] = useState(false); // Loader\r\n  const [showForm, setShowForm] = useState(true); // Show/hide the form\r\n  const [formPayload, setFormPayload] = useState({user_id: auth.user}); // Data to send. Here we can add userID: auth.user by default\r\n\r\n  // Reset the form\r\n  const resetForm = () => {\r\n    setResponse()\r\n    setStatus()\r\n    setBadRequest()\r\n    setShowForm(true)\r\n    setFormPayload({user_id: auth.user}) // Don't forget to include userID: auth.user, if needed\r\n  }\r\n\r\n  // POST-request\r\n  function postData() {\r\n    setLoading(true)\r\n    setShowForm(false)\r\n    api\r\n    // Data structure\r\n      .structure(dataStructure)\r\n      // POST request + payload + query params:\r\n      .setData(endpoint, formPayload,\r\n        {sessionID: auth.sessionID})\r\n      .then((response) => {\r\n        setResponse(response.result)\r\n        setStatus(response.status)\r\n        setLoading(false)\r\n      })\r\n      .catch((e) => {\r\n        // handling errors\r\n        setLoading(false)\r\n        console.log(e.response)\r\n        setBadRequest({\r\n          httpCode: e.response.status,\r\n          msg: e.response.data.msg\r\n        })\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <h1>Add Movie</h1>\r\n      {loading && <Loader/>}\r\n      {showForm &&\r\n      <form onSubmit={postData}>\r\n        <input type=\"text\" placeholder='Movie title' onChange={(e) => {\r\n          // insert here your FIELD_SYSNAME\r\n          setFormPayload({...formPayload, 'title': e.target.value})\r\n        }}/>\r\n        <input type=\"text\" placeholder='Year' onChange={(e) => {\r\n          // insert here your FIELD_SYSNAME\r\n          setFormPayload({...formPayload, 'year': e.target.value})\r\n        }}/>\r\n        <input type=\"text\" placeholder='Why do you recommend it?' onChange={(e) => {\r\n          // insert here your FIELD_SYSNAME\r\n          setFormPayload({...formPayload, 'description': e.target.value})\r\n        }}/>\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      }\r\n\r\n      {/* Everything is OK */}\r\n      {response && response[0].is_valid && <div className='success'>\r\n        <b>Submitted successfully</b>\r\n        <p>Thank you!</p>\r\n      </div>}\r\n\r\n      {/* Something went wrong */}\r\n      {badRequest && <div class=\"error\">\r\n        <b>{badRequest.httpCode} error</b>\r\n        {(badRequest.httpCode == '400') &&\r\n        <p>API-endpoint is not configured properly.</p>}\r\n        {(badRequest.httpCode == '403') &&\r\n        <p>You have to be logged in to submit this form.</p>}\r\n        <p><code>{badRequest.msg}</code></p>\r\n      </div>}\r\n      {response && !response[0].is_valid &&\r\n      <div className='error'>\r\n        <b>Error</b>\r\n        <p>{response[0].error_msg}</p>\r\n      </div>\r\n      }\r\n      {/* Reset the form */}\r\n      {!showForm && !loading &&\r\n      <button onClick={resetForm}>\r\n        Submit one more movie\r\n      </button>}\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './dropdown.css'\r\n\r\n\r\nexport function Dropdown(props) {\r\n  return(\r\n    <div className='dropdown' onClick={props.onClick}></div>\r\n  )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport './modal.css'\r\nimport Directual from 'directual-api'\r\nimport {useAuth} from \"../../auth\";\r\nimport {Loader} from '../loader/loader'\r\n\r\n\r\nexport function Modal(props) {\r\n\r\n  const api = new Directual({apiHost: '/'})\r\n\r\n  const dataStructure = 'movies'\r\n  const endpoint = 'rateMovies'\r\n\r\n  const auth = useAuth();\r\n\r\n  const [response, setResponse] = useState(); // API response\r\n  const [status, setStatus] = useState(); // Request status\r\n  const [badRequest, setBadRequest] = useState(); // API error message\r\n  const [loading, setLoading] = useState(false); // Loader\r\n  const [showForm, setShowForm] = useState(true); // Show/hide the form\r\n  const [formPayload, setFormPayload] = useState({user_id: auth.user}); // Data to send. Here we can add userID: auth.user by default\r\n  const [sent, setSent] = useState(false);\r\n\r\n\r\n  // POST-request\r\n  function postData() {\r\n    setLoading(true)\r\n    api\r\n    // Data structure\r\n      .structure(dataStructure)\r\n      // POST request + payload + query params:\r\n      .setData(endpoint, {...formPayload, 'is_watched': true, 'id': props.movie.id},\r\n        {sessionID: auth.sessionID})\r\n      .then((response) => {\r\n        setResponse(response.result)\r\n        setStatus(response.status)\r\n        setLoading(false)\r\n        setSent(true)\r\n        props.handleReload()\r\n      })\r\n      .catch((e) => {\r\n        // handling errors\r\n        setLoading(false)\r\n        console.log(e.response)\r\n        setBadRequest({\r\n          httpCode: e.response.status,\r\n          msg: e.response.data.msg\r\n        })\r\n      })\r\n  }\r\n\r\n  const [rating, setRating] = useState(0);\r\n\r\n\r\n  return (\r\n    <div className='modalWindow'>\r\n      <div className='poster'\r\n           style={\r\n             {\r\n               backgroundImage: `url(${props.movie.poster})`\r\n             }\r\n           }\r\n      ></div>\r\n      <div className='movieInfo'>\r\n        <h2>{props.movie.title}</h2>\r\n        <p className='movieYear'>{props.movie.year}</p>\r\n        <p className='imdbRating'>IMDB: {props.movie.imdb_ratings}</p>\r\n        <p><span>Director:</span> {props.movie.director} </p>\r\n        <p><span>Actors:</span> {props.movie.actors} </p>\r\n        <p><span>Plot:</span> {props.movie.plot} </p>\r\n\r\n        {\r\n          props.movie.my_rating &&\r\n          <div className='stars'>\r\n            <div>My rating:</div>\r\n            {(props.movie.my_rating == '1') && <span>⭐</span>}\r\n            {(props.movie.my_rating == '2') && <span>⭐⭐</span>}\r\n            {(props.movie.my_rating == '3') && <span>⭐⭐⭐</span>}\r\n            {(props.movie.my_rating == '4') && <span>⭐⭐⭐⭐</span>}\r\n            {(props.movie.my_rating == '5') && <span>⭐⭐⭐⭐⭐</span>}\r\n          </div>\r\n        }\r\n        {loading && <Loader/>}\r\n        {sent && <p className='hint'> The movie has been rated!</p>}\r\n        {auth.isAutorised() && !auth.hasRole('admin') && !props.movie.is_watched &&\r\n        <p className='hint'>Only list owner can rate the movie</p>\r\n        }\r\n        {\r\n          !props.movie.is_watched && !loading && !sent && auth.hasRole('admin') &&\r\n          <div className='rateThis'>\r\n            <p> {(rating === 0) && <div>Rate this movie:</div>}</p>\r\n            <p> {(rating === 1) && <div>Awful!</div>}</p>\r\n            <p> {(rating === 2) && <div>Bad</div>}</p>\r\n            <p> {(rating === 3) && <div>Acceptable</div>}</p>\r\n            <p> {(rating === 4) && <div>Good</div>}</p>\r\n            <p> {(rating === 5) && <div>Wonderful!</div>}</p>\r\n            <div className='starsWrapper'>\r\n              <span\r\n                className={`star ${(rating >= 1) && 'active'}`}\r\n                onMouseEnter={() => {\r\n                  setRating(1);\r\n                  setFormPayload({'my_rating': 1})\r\n                }}\r\n                onMouseLeave={() => setRating(0)}\r\n                onClick={postData}\r\n              >\r\n                        ⭐\r\n              </span>\r\n              <span\r\n                className={`star ${(rating >= 2) && 'active'}`}\r\n                onMouseEnter={() => {\r\n                  setRating(2);\r\n                  setFormPayload({'my_rating': 2})\r\n                }}\r\n                onMouseLeave={() => setRating(0)}\r\n                onClick={postData}\r\n              >\r\n                        ⭐\r\n              </span>\r\n              <span\r\n                className={`star ${(rating >= 3) && 'active'}`}\r\n                onMouseEnter={() => {\r\n                  setRating(3);\r\n                  setFormPayload({'my_rating': 3})\r\n                }}\r\n                onMouseLeave={() => setRating(0)}\r\n                onClick={postData}\r\n              >\r\n                        ⭐\r\n              </span>\r\n              <span\r\n                className={`star ${(rating >= 4) && 'active'}`}\r\n                onMouseEnter={() => {\r\n                  setRating(4);\r\n                  setFormPayload({'my_rating': 4})\r\n                }}\r\n                onMouseLeave={() => setRating(0)}\r\n                onClick={postData}\r\n              >\r\n                        ⭐\r\n              </span>\r\n              <span\r\n                className={`star ${(rating >= 5) && 'active'}`}\r\n                onMouseEnter={() => {\r\n                  setRating(5);\r\n                  setFormPayload({'my_rating': 5})\r\n                }}\r\n                onMouseLeave={() => setRating(0)}\r\n                onClick={postData}\r\n              >\r\n                        ⭐\r\n              </span>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport Directual from 'directual-api';\r\nimport {useAuth} from '../../auth'\r\nimport {Loader} from '../loader/loader';\r\n\r\nimport './table.css'\r\nimport {Dropdown} from \"../dropdown/dropdown\";\r\nimport {Modal} from \"../modal/modal\";\r\n\r\n\r\n// Example of getting data from Directual\r\n\r\n// Connect to Directual api\r\nconst api = new Directual({apiHost: '/'})\r\n\r\nexport function Table(props) {\r\n\r\n  // API-endpoint details\r\n  const dataStructure = props.dataStructure // todo: write here sysname of your data structure\r\n  const endpoint = props.endpoint // todo: write here Method name of your API-endpoint\r\n\r\n  // connect authentication context\r\n  const auth = useAuth();\r\n\r\n  // Hooks for handling state\r\n  const [payload, setPayload] = useState([]); // API response\r\n  const [pageInfo, setPageInfo] = useState({}); // API response metadata, e.g. number of objects\r\n  const [loading, setLoading] = useState(true); // initial loader\r\n  const [badRequest, setBadRequest] = useState(); // API error message\r\n  const [pageLoading, setPageLoading] = useState(false); // paging loader\r\n  const [pageNum, setPageNum] = useState(0); // Page number, by default = 0\r\n  const [pageSize, setPageSize] = useState(props.pageSize || 10); // Page size, bu default = 10\r\n\r\n  const [modalWindow, setModalWindow] = useState();\r\n\r\n  // Paging\r\n  useEffect(() => {\r\n    setPageLoading(true)\r\n    getData()\r\n  }, [pageNum])\r\n\r\n\r\n  const handleReload = () => {\r\n    getData()\r\n  }\r\n\r\n\r\n  const nextPage = () => {\r\n    setPageLoading(true)\r\n    setPageNum(pageNum + 1)\r\n  }\r\n  const prevPage = () => {\r\n    setPageLoading(true)\r\n    setPageNum(pageNum - 1)\r\n  }\r\n\r\n  // GET-request\r\n  function getData() {\r\n    api\r\n    // Data structure\r\n      .structure(props.dataStructure)\r\n      // GET request + query params (sessionID, page, pageSize by default)\r\n      .getData(props.endpoint, {sessionID: auth.sessionID, page: pageNum, pageSize: pageSize})\r\n      // other possible query params:\r\n      // {{HttpRequest}} — any param for Filtering\r\n      // sort=FIELD_SYSNAME_1,desc,FIELD_SYSNAME_2,asc — sorting with multiple params\r\n      .then((response) => {\r\n        setPayload(response.payload)\r\n        setPageInfo(response.pageInfo)\r\n        setLoading(false)\r\n        setPageLoading(false)\r\n      })\r\n      .catch((e) => {\r\n        // handling errors\r\n        setLoading(false)\r\n        setPageLoading(false)\r\n        console.log(e.response)\r\n        setBadRequest(e.response.status + ', ' + e.response.data.msg)\r\n      })\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loader/>}\r\n      {payload && !loading &&\r\n      <div>\r\n        <div className=\"moviesTable\">\r\n          <span className='total'>Movies:{pageInfo.tableSize} </span>\r\n          <table>\r\n            <thead>\r\n            <tr>\r\n              <td>Poster</td>\r\n              <td>Title</td>\r\n              <td>Director</td>\r\n              <td>Actors</td>\r\n              <td>Rating</td>\r\n              <td>Who recomended</td>\r\n              {props.watched &&\r\n              <td>My rating</td>}\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {payload.map(\r\n              row =>\r\n                <tr>\r\n                  <td><img src={row.poster} className='smallImg'/></td>\r\n                  <td><a onClick={() => setModalWindow(row.id)}> {row.title}</a> ({row.year})\r\n                    {\r\n                      (modalWindow === row.id) &&\r\n                      <div>\r\n                        <Dropdown onClick={() => setModalWindow(null)}/>\r\n                        <Modal movie={row} handleReload={handleReload}/>\r\n                      </div>\r\n                    }\r\n                  </td>\r\n                  <td>{row.director}</td>\r\n                  <td>{row.actors}</td>\r\n                  <td>{row.imdb_ratings}</td>\r\n                  <td>{row.user_id.name}{row.recomendation && `: \\\"${row.recomendation} \\\"`}</td>\r\n                  {props.watched &&\r\n                  <td>\r\n                    {(row.my_rating == '5') && '⭐⭐⭐⭐⭐'}\r\n                    {(row.my_rating == '4') && '⭐⭐⭐⭐'}\r\n                    {(row.my_rating == '3') && '⭐⭐⭐'}\r\n                    {(row.my_rating == '2') && '⭐⭐'}\r\n                    {(row.my_rating == '1') && '⭐'}\r\n                  </td>}\r\n\r\n                </tr>\r\n            )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n\r\n        {/* Paging */}\r\n        {pageLoading && <Loader/>}\r\n        {!pageLoading &&\r\n        <div>\r\n          <button className={(pageNum <= 0) && \"disabled\"} disabled={(pageNum <= 0) && \"disabled\"}\r\n                  onClick={prevPage}>prev\r\n          </button>\r\n          <button className={(badRequest || (pageNum >= pageInfo.totalPage - 1)) && \"disabled\"}\r\n                  disabled={(badRequest || (pageNum >= pageInfo.totalPage - 1)) && \"disabled\"} onClick={nextPage}>next\r\n          </button>\r\n        </div>\r\n        }\r\n\r\n      </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Table} from \"../components/table/table\";\r\n\r\n\r\nexport default function ToWatch() {\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <h1>Movies to watch</h1>\r\n      <Table dataStructure=\"movies\" endpoint=\"getMoviesToWatch\" pageSize={10}/>\r\n    </div>\r\n  )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Table} from \"../components/table/table\";\r\n\r\n\r\nexport default function MyList() {\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <h1>Movies I have watched</h1>\r\n      <Table watched dataStructure=\"movies\" endpoint=\"getMoviesWatched\" pageSize={10} />\r\n    </div>\r\n  )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport Directual from 'directual-api';\r\nimport {useAuth} from '../auth'\r\nimport {Loader} from '../components/loader/loader';\r\nimport md5 from 'md5-hash'\r\nimport {Link} from \"react-router-dom\";\r\n\r\n// Example of posting data to Directual\r\n\r\n// Connect to Directual api\r\nconst api = new Directual({apiHost: '/'})\r\n\r\nexport default function Register() {\r\n\r\n  // API-endpoint details\r\n  const dataStructure = 'reg_requests' // todo: write here sysname of your data structure\r\n  const endpoint = 'register' // todo: write here Method name of your API-endpoint\r\n\r\n  // Connect authentication context\r\n  const auth = useAuth();\r\n\r\n  // Hooks for handling state\r\n  const [response, setResponse] = useState(); // API response\r\n  const [status, setStatus] = useState(); // Request status\r\n  const [badRequest, setBadRequest] = useState(); // API error message\r\n  const [loading, setLoading] = useState(false); // Loader\r\n  const [showForm, setShowForm] = useState(true); // Show/hide the form\r\n  const [formPayload, setFormPayload] = useState({}); // Data to send. Here we can add userID: auth.user by default\r\n\r\n\r\n  const editForm = () => {\r\n    setResponse()\r\n    setStatus()\r\n    setBadRequest()\r\n    setShowForm(true)\r\n  }\r\n\r\n  // POST-request\r\n  function postData() {\r\n    setLoading(true)\r\n    setShowForm(false)\r\n    api\r\n    // Data structure\r\n      .structure(dataStructure)\r\n      // POST request + payload + query params:\r\n      .setData(endpoint, formPayload,\r\n        {sessionID: auth.sessionID})\r\n      .then((response) => {\r\n        setResponse(response.result)\r\n        setStatus(response.status)\r\n        setLoading(false)\r\n      })\r\n      .catch((e) => {\r\n        // handling errors\r\n        setLoading(false)\r\n        console.log(e.response)\r\n        setBadRequest({\r\n          httpCode: e.response.status,\r\n          msg: e.response.data.msg\r\n        })\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <h1>Register</h1>\r\n      {loading && <Loader/>}\r\n      {showForm &&\r\n      <form onSubmit={postData}>\r\n\r\n        <input type=\"text\" value={formPayload.email} placeholder='Your email' onChange={(e) => {\r\n          setFormPayload({...formPayload, 'email': e.target.value})\r\n        }}/>\r\n        <p className=\"tip\">This will be your login </p>\r\n\r\n        <input type=\"text\" value={formPayload.name} placeholder='Name' onChange={(e) => {\r\n          setFormPayload({...formPayload, 'name': e.target.value})\r\n        }}/>\r\n        <input type=\"text\" value={formPayload.twitter} placeholder='Twitter account' onChange={(e) => {\r\n          setFormPayload({...formPayload, 'twitter': e.target.value})\r\n        }}/>\r\n        <input type=\"password\" placeholder='Password' onChange={(e) => {\r\n          setFormPayload({...formPayload, 'pass': md5(e.target.value)})\r\n        }}/>\r\n        <input type=\"password\" placeholder='Repeat password' onChange={(e) => {\r\n          setFormPayload({...formPayload, 're_pass': md5(e.target.value)})\r\n        }}/>\r\n\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      }\r\n\r\n      {/* Everything is OK */}\r\n      {response && response[0].is_valid &&\r\n      <div>\r\n        <b>Sign up successfully</b>\r\n        <Link to='/login'>\r\n          <button>Login</button>\r\n        </Link>\r\n      </div>}\r\n\r\n      {response && !response[0].is_valid &&\r\n      <div className='error'>\r\n        <b>Error</b>\r\n        <p>{response[0].error}</p>\r\n      </div>}\r\n\r\n      {/* Something went wrong */}\r\n      {badRequest && <div class=\"error\">\r\n        <b>{badRequest.httpCode} error</b>\r\n        {(badRequest.httpCode == '400') &&\r\n        <p>API-endpoint is not configured properly.</p>}\r\n        {(badRequest.httpCode == '403') &&\r\n        <p>You have to be logged in to submit this form.</p>}\r\n        <p><code>{badRequest.msg}</code></p>\r\n      </div>}\r\n\r\n      {!showForm && !loading &&\r\n      <button onClick={editForm}>\r\n        Edit my data\r\n      </button>}\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  NavLink,\r\n  useHistory, useLocation,\r\n} from 'react-router-dom'\r\n\r\nimport {MainMenu} from './components/menu/menu'\r\nimport {ProvideAuth, useAuth, authContext} from './auth'\r\n\r\n\r\nimport LoginPage from './pages/login'\r\nimport AddMovie from './pages/add'\r\nimport ToWatch from './pages/toWatch'\r\nimport MyList from './pages/myList'\r\nimport Register from \"./pages/register\";\r\n\r\nfunction PrivateRoute({children, hasRole, ...rest}) {\r\n  const auth = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({location}) =>\r\n        auth.isAutorised() && auth.hasRole(hasRole) ? (\r\n          children\r\n        ) : auth.isAutorised() && !auth.hasRole(hasRole) ? <div>Access denied</div> : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: {from: location}\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\n// This is for pages like your.app/books/the-bible, wthere 'the-bible' in nan Object ID\r\n//\r\n// const Child = ({ match }) => {\r\n//   return (\r\n//   <div>Object ID: {match.params.id}</div>\r\n//   )\r\n// }\r\n\r\nexport default function App() {\r\n  return (\r\n    <ProvideAuth>\r\n      <Router>\r\n        <MainMenu/>\r\n        <Switch>\r\n\r\n          {/* Public pages */}\r\n          <Route path=\"/login\">\r\n            <LoginPage/>\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <MyList/>\r\n          </Route>\r\n          <Route exact path=\"/towatch\">\r\n            <ToWatch/>\r\n          </Route>\r\n          <Route exact path=\"/register\">\r\n            <Register/>\r\n          </Route>\r\n          <PrivateRoute path=\"/add\">\r\n            <AddMovie/>\r\n          </PrivateRoute>\r\n\r\n\r\n          {/*<PrivateRoute path=\"/private\">*/}\r\n          {/*  <PrivatePage />*/}\r\n          {/*</PrivateRoute>*/}\r\n\r\n          {/*<PrivateRoute path=\"/admin\" hasRole={'admin'}>*/}\r\n          {/*  <AdminPage />*/}\r\n          {/*</PrivateRoute>*/}\r\n\r\n          {/* This is for pages like your.app/books/the-bible, wthere 'the-bible' in an Object ID */}\r\n          {/* <Route exact path=\"/table/:id\" component={Child}/> */}\r\n        </Switch>\r\n      </Router>\r\n    </ProvideAuth>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}